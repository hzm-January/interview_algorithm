# 数学-理论

## 二进制运算

### 异或运算
任何数与自身异或结果是0：`a^a=0`  
任何数与0异或结果仍是原数：`0^a=a`  
异或满足交换和结合律：`a^b^a=b^a^a=b^(a^a)=b^0=b`   



求两个数的无进位相加结果：`x^y` (异或)  
求两个数的相加所有进位位置：`(x&y)<<1` (按位与并左移一位)  
两个数的相加操作：无进位相加结果+进位位置，多次迭代，直到进位位置全为0  

取出二进制最低位：`n&1`

取出二进制最低位的1:：`n&(-n)`， 只保留最低位的 1，其余位都为 0

最低位的 1 变为 0，并将更低位的所有 0 变为 1：`n&(-n)-1`，

取出二进制最低位的1所在的位置（从右往左，从低位到高位数）：`bin(curPos-1).count('1')`

取出二进制的左数第i位：`(n>>i)&1`

将二进制数的最后一个1变为0：`n&=n-1`

判断二进制数的第i位：`n&(1<<i)` 

将二进制数的第i位赋值为1：`ans |= (1 << i)`  


python将整数转换为二进制数值字符串：`bin(n)`，结果前两位为0b，例如`bin(1)=0b1`。



## 上取整

$\lceil \frac{a}{b} \rceil$

分子分母有浮点数时，直接使用`math.ceil(a/b)`。

分子分母都是整数时，为了避免精度丢失问题，将上取整转换为下取整 $\lfloor \frac{a+b-1}{b} \rfloor$。

[参考：【【力扣双周赛 89】二分答案 | 树上统计问题】37:25](https://www.bilibili.com/video/BV1cV4y157BY/?share_source=copy_web&vd_source=5dfd63191b005c5187bf788bd7fa61b3)

## 排序

### python中自定义排序

``` python
nums.sort(key=abs, reverse=True) # 按照绝对值从大到小排序

```